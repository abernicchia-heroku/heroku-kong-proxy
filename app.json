{
  "name": "Kong API Gateway",
  "description": "Kong API Gateway running on Heroku",
  "keywords": [
    "kong",
    "api-gateway",
    "api",
    "gateway",
    "proxy"
  ],
  "repository": "https://github.com/abernicchia-heroku/heroku-kong-proxy",
  "stack": "container",
  "success_url": "/",
  "addons": [
    {
      "plan": "heroku-postgresql:standard-0"
    },
    {
      "plan": "papertrail:choklad"
    }
  ],
  "env": {
    "KONG_DATABASE": {
      "description": "Database type for Kong",
      "value": "postgres",
      "required": true
    },
    "KONG_PG_SSL": {
      "description": "Enable SSL for PostgreSQL connections",
      "value": "on",
      "required": true
    },
    "KONG_PG_SSL_VERIFY": {
      "description": "Disable SSL verification for Heroku PostgreSQL",
      "value": "off",
      "required": true
    },
    "KONG_PROXY_LISTEN": {
      "description": "Proxy listen configuration for Heroku",
      "value": "0.0.0.0:${PORT}"
    },
    "KONG_ADMIN_LISTEN": {
      "description": "Admin API listen configuration (disabled for proxy)",
      "value": "off"
    },
    "KONG_DECLARATIVE_CONFIG": {
      "description": "Path to declarative configuration file",
      "value": "/usr/local/kong/declarative/kong.yml"
    },
    "KONG_PROXY_ACCESS_LOG": {
      "description": "Proxy access log location",
      "value": "/dev/stdout"
    },
    "KONG_PROXY_ERROR_LOG": {
      "description": "Proxy error log location",
      "value": "/dev/stderr"
    },
    "KONG_LOG_LEVEL": {
      "description": "Log level",
      "value": "notice"
    },
    "APP_RUN_KONG_MIGRATIONS": {
      "description": "Set to 'true' to run database migrations on startup (first deploy only)",
      "value": "true",
      "required": true
    }
  },
  "formation": {
    "web": {
      "quantity": 1,
      "size": "standard-1x"
    }
  }
} 